@model IEnumerable<IP_Project.Models.Car>
@{ViewBag.Title = "Admin Models";}

<head>
    <link href="@Url.Content("/Content/StyleSheet4.css")" rel="stylesheet">
</head>

<body>
    <table class="table table-hover mt-3 caption-top table-bordered border-dark">
        <caption class="model-table-admin">Car Models</caption>
        <thead class="table-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Model</th>
                <th scope="col">Type</th>
                <th scope="col">Year</th>
                <th scope="col">Horse Power</th>
                <th scope="col">Engine Capacity</th>
                <th scope="col">Acceleration</th>
                <th scope="col">Price</th>
                <th scope="col">Image</th>
            </tr>
        </thead>

        <tbody>
            @foreach (var car in Model)
            {
                <tr>
                    <th scope="row">@car.Chassis</th>
                    <td>@car.Model</td>
                    <td>@car.Type</td>
                    <td>@car.Year</td>
                    <td>@car.Horse_Power hp</td>
                    <td>@car.Engine_Capacity cc</td>
                    <td>@car.Acceleration s</td>
                    <td>@car.Price $</td>

                    <td style="text-align: center;">
                        <img src="data:image;base64,@System.Convert.ToBase64String(car.Image)" width="100px">
                    </td>
                </tr>
            }

        </tbody>
    </table>

    @using (Html.BeginForm("Insert_Car", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div class="admin-form">
            <h2>Insert New Car</h2>
        </div>

        <div class="container ms-1 bg-light border border-light-subtle">
            <div class="mb-3 me-auto">
                <label class="form-label">Model:</label>
                <input class="form-control" type="text" name="model" required>
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Type:</label>

                <div class="form-check">
                    <input class="form-check-input" type="radio" name="carType" id="radioSedan" value="Sedan" required>
                    <label class="form-check-label" for="radioSedan">Sedan</label>
                </div><br />

                <div class="form-check">
                    <input class="form-check-input" type="radio" name="carType" id="radioSUV" value="SUV">
                    <label class="form-check-label" for="radioSUV">SUV</label>
                </div><br />

                <div class="form-check">
                    <input class="form-check-input" type="radio" name="carType" id="radioCoupe" value="Coupe">
                    <label class="form-check-label" for="radioCoupe">Coupe</label>
                </div><br />
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Year:</label>
                <input class="form-control" type="number" name="year" required>
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Horse Power:</label>
                <input class="form-control" type="number" name="horsePower" required>
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Engine Capacity:</label>
                <input class="form-control" type="number" name="engineCapacity" required>
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Acceleration:</label>
                <input class="form-control" type="number" step="0.1" name="acceleration" required>
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Price:</label>
                <input class="form-control" type="number" name="price" required>
            </div>

            <div class="mb-3 me-auto">
                <label class="form-label">Image:</label>
                <input class="form-control" type="file" accept=".jpg, .jpeg" name="imageFile" required>
            </div>

            <button type="submit" class="btn btn-secondary me-auto">Insert</button>
        </div>
    }

</body>
