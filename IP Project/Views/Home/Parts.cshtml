@model IEnumerable<IP_Project.Models.Accessory>
@{ViewBag.Title = "Parts & Accessories";}

<main aria-labelledby="title">
    <h1 class="m-5">Parts & Accessories</h1>
    <div id="main-container">
        <div id="sidebar" class="ms-4 fs-4">
            <a href="#" onclick="showContent('parts')">Genuine Parts</a>
            <a href="#" onclick="showContent('acc')">Accessories</a>
        </div>

        <div id="content">
            <div id="parts" class="content-section">
                <section>
                    <div class="row row-cols-1 row-cols-md-3 g-4 mt-5">
                        @foreach (var acc in Model)
                        {
                            if (acc.Type == "Part")
                            {
                                <div class="col-md-4">
                                    <div class="card h-100 text-center">
                                        <img src="data:image;base64,@System.Convert.ToBase64String(@acc.Image)"
                                             class="card-img-top"  style="width: 100%; height: 100%;">
                                        <div class="card-body">
                                            <h5 class="card-title">@acc.Name</h5>
                                            <h6 class="c-card-specs">
                                                Price: @acc.Price $<br>
                                                Compatible with: @(acc.Car != null ? (acc.Car.Model + " - " + acc.Car.Year) : "General")<br>
                                                @(acc.Availability ? "Available" : "Currently Unavailable")<br>
                                            </h6>
                                        </div>
                                    </div>
                                </div>
                             }
                         }
                    </div>
                </section>
            </div>

            <div id="acc" class="content-section">
                <section>
                    <div class="row row-cols-1 row-cols-md-3 g-4 mt-5">
                        @foreach (var acc in Model)
                        {
                            if (acc.Type == "Acc")
                            {
                                <div class="col-md-4">
                                    <div class="card h-100 text-center">
                                        <img src="data:image;base64,@System.Convert.ToBase64String(acc.Image)"
                                             class="card-img-top text-center" style="width: 100%; height: 100%">
                                        <div class="card-body">
                                            <h5 class="card-title">@acc.Name</h5>
                                            <h6 class="c-card-specs">
                                                Price: @acc.Price $<br>
                                                Compatible with: @(acc.Car != null ? (acc.Car.Model + " - " + acc.Car.Year) : "General")<br>
                                                @(acc.Availability ? "Available" : "Currently Unavailable")<br>
                                            </h6>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </section>
            </div>
        </div>
    </div>
</main>

<script>
    function showContent(sectionId) {
        const contentSections = document.querySelectorAll('.content-section');
        contentSections.forEach(section => section.style.display = 'none'); /* Hide any currently visible sections */
        document.getElementById(sectionId).style.display = 'flex'; /* Show the selected section */
    }
</script>
